<!DOCTYPE html>
<html>
  <!-- 
       Wanderer moon
       smiling a
       faintly ironical smile
       at this
       brilliant, dew-moistened
       summer morning,
       a detached
       sleepily indifferent
       smile, a
       wanderer's smile,
       if I should
       buy a shirt
       your color and
       put on a necktie
       sky-blue
       where would they carry me?

       - 1917, william carlos williams
    -->
  <head>
    <title>jason bonthron</title>
    <meta charset="utf-8">
    <meta name="Description" CONTENT="Jason Bonthron. Game Off 2020">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript" src="phaser.min.js"></script>
    <link rel="stylesheet" type="text/css" href="tachyons.min.css" />
    <link rel="stylesheet" type="text/css" href="style.css" />



<script type="text/javascript">

  var keys = {}
  var c1;
  var cam;
  
  var config = {
        parent:"game",
        type: Phaser.AUTO,
        width: 800,
        height: 600,
        scene: {
            preload: preload,
            create: create,
            update: update
        }
    };

    function preload ()
    {
	this.load.image('sky', 'assets/sky.png');
    }

    function create ()
  {

      var sky = this.add.image(0, 0, 'sky').setOrigin(0,0);
      var r1 = this.add.rectangle(0, 0, 800, 500, 0xCCCCCC).setOrigin(0,0);
      
      //  this.add.rectangle(x, y, width, height, fillColor);
      //  c1 = this.add.circle(100, 100, 100, 0x000000)

      var shape = this.make.graphics();
      shape.fillStyle(0x000000);
      shape.fillCircle(200,200,100)

      var mask = shape.createGeometryMask();
      mask.setInvertAlpha()

      var mask2 = shape.createGeometryMask();

      r1.setMask(mask)
      sky.setMask(mask2)

      var shape = this.add.graphics();
      shape.fillStyle(0x000000);
      shape.fillCircle(200,200,100)
      shape.alpha = 0.5
      
      keys.Left = this.input.keyboard.addKey('LEFT');
      keys.Right = this.input.keyboard.addKey('RIGHT');
      keys.Up = this.input.keyboard.addKey('UP');
      keys.Down = this.input.keyboard.addKey('DOWN');             

       cam = this.cameras.add(0,0,800,600)
  }

    function update ()
  {

      
      if(keys.Left.isDown){ console.log('LEFT'); cam.x = cam.x - 2; }
	if(keys.Right.isDown){ console.log('RIGHT');  cam.x = cam.x + 2;}
	if(keys.Up.isDown){ console.log('UP');  c1.y = c1.y - 2; }
	if(keys.Down.isDown){ console.log('DOWN'); c1.y = c1.y + 2; }

//	c1.scale = c1.scale + 0.005;
    }


    window.onload = function(){
	var game = new Phaser.Game(config);
    }
  
</script>
    
    
  </head>

  <body>
    <div id="game"></div>
  </body>
</html>
